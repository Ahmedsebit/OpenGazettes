---
layout: default
---
<article class="jurisdiction">

  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>

    {% include year_nav.html %}
  </header>

  <div class="row">
    <div class="col-md-6">
      {% include search.html %}
    </div>
    <div class="col-md-6">
      <div id="chart"></div>
    </div>
  </div>

  <div class="post-content">
    {% for gazette in site.data.gazettes[page.jurisdiction].gazettes[page.year] %}
      {% assign currentdate = gazette.publication_date | date: "%B %Y" %}
      {% if currentdate != date %}
        {% unless forloop.first %}</ul>{% endunless %}
        <h2 id="{{ gazette.publication_date | date: "%m" }}">{{ currentdate }}</h2>
        <ul>
        {% assign date = currentdate %}
      {% endif %}
      <li>
        <a href="{{ gazette.archive_url }}">{{ gazette.issue_title }}</a>
      </li>
      {% if forloop.last %}</ul>{% endif %}
    {% endfor %}
  </div>


  <footer>
    {% include year_nav.html %}
  </footer>

  <div class="row">
    <div class="col-md-6">
        {% include resources.html %}
    </div>
  </div>

</article>

<script src="/js/jquery-1.11.3.min.js"></script>
<script src="/js/d3.v4.min.js"></script>

<script>

var margin = {top: 0, right: 0, bottom: 20, left: 40},
    width = $('#chart').parent().width() - margin.left - margin.right,
    height = 100 - margin.top - margin.bottom;

var svg = d3.select("#chart").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)

var x = d3.scaleBand().rangeRound([0, width]).padding(0.05),
    y = d3.scaleLinear().rangeRound([height, 0]);

var g = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var data = [
  {year: "2007", number: 95},
  {year: "2008", number: 191},
  {year: "2009", number: 198},
  {year: "2010", number: 298},
  {year: "2011", number: 193},
  {year: "2012", number: 168},
  {year: "2013", number: 218},
  {year: "2014", number: 122},
  {year: "2015", number: 54},
  {year: "2016", number: 59},
  {year: "2017", number: 132},
];

var firstYear = data[0].year;
var lastYear = data[data.length - 1].year;

x.domain(data.map(function(d) { return d.year; }));
y.domain([0, d3.max(data, function(d) { return d.number; })]);

g.append("g")
  .attr("class", "axis axis--y")
  .call(d3.axisLeft(y).ticks(5))
  
svg.append("text")
  .attr("class", "axis axis--x")
  .attr("y", height + margin.top + 5)
  .attr("x", margin.left + 5)
  .attr("dy", "1em")
  .text(firstYear);

svg.append("text")
  .attr("class", "axis axis--x")
  .attr("y", height + margin.top + 5)
  .attr("x", width + margin.left - 5)
  .attr("dy", "1em")
  .style("text-anchor", "end")
  .text(lastYear);

g.selectAll(".bar")
  .data(data)
  .enter().append("rect")
    .attr("class", "bar")
    .attr("x", function(d) { return x(d.year); })
    .attr("y", function(d) { return y(d.number); })
    .attr("width", x.bandwidth())
    .attr("height", function(d) { return height - y(d.number); });

</script>